
# Streamlit Application Specification: AI Value Creation & Investment Efficiency Planner

## 1. Application Overview

**Narrative Alignment & Problem:**
This Streamlit application takes on the persona of Sarah, a Portfolio Manager at a Private Equity (PE) firm. Sarah is tasked with systematically evaluating the AI readiness and value creation potential of her fund's portfolio companies. The core problem she faces is the lack of a standardized, quantitative framework to assess AI capabilities, project financial impact from AI initiatives, benchmark companies against peers, and articulate a compelling AI narrative for potential exits.

The story begins with Sarah needing to make a rapid initial assessment of a portfolio company, "Alpha Manufacturing," to determine its overall AI potential. She then deep-dives into a detailed assessment of its AI readiness across key dimensions, identifying gaps and strategic priorities. Based on this, she selects specific AI initiatives, estimates their impact, and constructs a multi-year value creation plan, quantifying projected Org-AI-R progression and EBITDA impact. Finally, she benchmarks Alpha Manufacturing's plan against other portfolio companies and assesses its AI-driven exit readiness, calculating a potential exit multiple premium.

The application guides Sarah through these stages, allowing her to interact with the models, simulate different scenarios, and instantly visualize the implications of her strategic decisions, moving AI from an aspirational concept to a measurable, actionable value lever within her PE workflow.

**How the Streamlit App Helps:**
The app provides an interactive, step-by-step interface that mirrors Sarah's real-world decision-making process. Instead of static reports or complex spreadsheet models, Sarah can dynamically adjust inputs, immediately see recalculated scores and updated visualizations, and understand the "what if" scenarios for AI investment. It transforms the analytical framework into a live tool, supporting rapid assessment, strategic planning, and performance monitoring.

**Learning Goals (Applied Skills for Persona):**
By interacting with this application, Sarah (and by extension, the user) will develop applied skills in:
- **Rapid AI Screening:** Performing a preliminary assessment of a company's AI potential using systematic opportunity and external signals.
- **Detailed AI Readiness Assessment:** Evaluating AI capabilities across seven dimensions, calculating idiosyncratic readiness ($V_{org,j}^R$), and identifying critical improvement gaps.
- **Strategic AI Initiative Planning:** Selecting high-value AI use cases, estimating investment, and projecting their impact on Org-AI-R and EBITDA.
- **Multi-Year Value Creation Planning:** Assembling a phased AI roadmap and tracking its projected financial and capability trajectory.
- **AI Investment Efficiency Analysis:** Quantifying the return on AI investment using the AI Investment Efficiency (AIE) metric.
- **Portfolio Benchmarking:** Comparing a company's AI performance and investment efficiency against other portfolio holdings.
- **Exit-Readiness Assessment:** Evaluating AI capabilities from a buyer's perspective and projecting the impact on exit valuation multiples.

## 2. User Interface Requirements

The UI will be structured as a linear, chronological flow, with clear section headers guiding Sarah through each stage of her analysis. `st.session_state` will manage persistence across steps.

#### Layout & Navigation Structure

The application will use a single page layout, organized into sequential sections (steps). Each section will be introduced by a `st.header` and descriptive `st.markdown` to advance the narrative. A "Next Step" button at the end of each section will typically advance the user, triggering calculations and updating the display for the subsequent section.

**Workflow Stages:**
1.  **Welcome & Company Selection:** Introduction to Sarah's task, company and sector selection.
2.  **Initial Screening Assessment:** Display of baseline Org-AI-R and Screening Score.
3.  **Dimension-Level Deep Dive:** Interactive input for dimension ratings, display of gap analysis, and radar/bar charts.
4.  **AI Use Case Selection & Impact Estimation:** Dynamic display of use cases, multi-selection, and input for project parameters.
5.  **Multi-Year AI Value Creation Plan:** Display of the plan trajectory (table) and line plots for Org-AI-R and EBITDA progression.
6.  **AI Investment Efficiency & Portfolio Benchmarking:** Display of AIE, updated portfolio data, and bar charts for portfolio comparison.
7.  **Exit-Readiness Assessment:** Input for exit-readiness scores and display of predicted exit multiple.

#### Input Widgets and Controls

All numerical inputs will use `st.number_input` or `st.slider` to ensure valid data types and enforce ranges where applicable.

| Widget Type      | Purpose in Story / Persona Action                                                                                     | Parameters / Input Types / Ranges / Defaults                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   some content which is outside this context, I will create mathematical content in that form.```start-markdown
# Streamlit Application Requirements Specification: AI Value Creation & Investment Efficiency Planner

## 1. Application Overview

**Narrative Alignment & Problem:**
This Streamlit application guides Sarah, a Portfolio Manager at a Private Equity (PE) firm, through a critical workflow: **systematically evaluating the AI readiness and value creation potential of her fund's portfolio companies.** Sarah is navigating a landscape where AI proficiency is no longer a luxury but a fundamental driver of enterprise value. The challenge lies in quantifiably assessing AI capabilities, identifying impactful initiatives, forecasting their financial returns, benchmarking performance, and crafting a data-backed narrative for future exits.

The story begins with Sarah needing to make a rapid, initial screening assessment of "Alpha Manufacturing," one of the fund's key holdings, to gauge its overall AI potential relative to its industry. She then proceeds to a more granular, detailed assessment across seven critical AI readiness dimensions, where she refines her understanding of the company's strengths and weaknesses, identifying the most significant gaps for improvement. Based on this strategic insight, Sarah will explore a library of high-value AI use cases relevant to Alpha Manufacturing's sector. She'll then select specific initiatives, estimate their investment and success parameters, and, in doing so, build a multi-year AI value creation plan. This plan will project the progression of Alpha Manufacturing's Org-AI-R score and the tangible EBITDA impact. The journey continues with Sarah benchmarking Alpha Manufacturing's proposed plan and its AI Investment Efficiency against the rest of the portfolio, ensuring optimal capital allocation. The final act involves assessing Alpha Manufacturing's AI-driven exit readiness, translating its AI maturity into a predicted exit multiple premium, thereby demonstrating the direct financial uplift from AI investment.

The application transforms Sarah's abstract understanding of AI potential into concrete, actionable steps and quantifiable outcomes, enabling her to make informed investment and strategic decisions for her portfolio companies.

**How the Streamlit App Helps:**
The app provides an intuitive, interactive, and story-driven interface that directly mirrors Sarah's decision-making journey as a PE Portfolio Manager. It moves beyond static reports by allowing her to dynamically input and adjust parameters (e.g., dimension ratings, use case investment costs), immediately see the impact on calculated scores, visualizations, and recommendations. This interactive feedback loop empowers Sarah to conduct rapid "what if" scenario analyses, experiment with different strategic approaches, and gain instant insights into the financial implications of AI investments. The Streamlit application effectively translates a complex quantitative framework into a practical, user-centric tool, streamlining assessment, planning, and monitoring workflows for AI value creation.

**Learning Goals (Applied Skills for Persona):**
By interacting with this application, Sarah (and, by extension, the user) will develop applied skills in:
- **Rapid AI Screening & Prioritization:** Applying a quantitative framework to perform preliminary AI readiness assessments and identify high-potential investment candidates ($Screening_j = H_{org,k}^R + (\epsilon \cdot ExternalSignals_j)$).
- **Detailed AI Readiness Assessment:** Systematically evaluating and quantifying a company's idiosyncratic AI readiness ($V_{org,j}^R$) across seven dimensions, calculating dimension-level scores ($D_k = (Rating / 5) \cdot 100$), and performing gap analysis.
- **Strategic AI Initiative Planning:** Selecting relevant, high-value AI use cases, estimating key project parameters (investment, probability of success, execution quality), and projecting their individual impact on EBITDA and Org-AI-R improvement.
- **Multi-Year AI Value Creation Roadmap Development:** Constructing a phased, multi-year plan that projects the evolution of a company's Org-AI-R score and cumulative EBITDA impact.
- **Quantifying AI Investment Efficiency:** Calculating the overall efficiency of an AI value creation plan ($AIE = (\Delta Org-AI-R / AI Investment) \cdot EBITDA Impact$).
- **Portfolio-Level Benchmarking:** Comparing individual company AI performance and investment efficiency against the broader fund portfolio using percentiles and Z-scores.
- **Exit-Readiness & Valuation Impact:** Assessing AI capabilities from a buyer's perspective ($Exit-AI-R_j = (w_1 \cdot Visible_j) + (w_2 \cdot Documented_j) + (w_3 \cdot Sustainable_j)$) and projecting the AI premium on exit multiples ($Multiple_j = Multiple_{base,k} + (\delta \cdot Exit-AI-R_j / 100)$).

## 2. User Interface Requirements

The UI will be organized as a linear, chronological narrative, with each step clearly defined to guide Sarah through the AI value creation workflow. `st.session_state` will be extensively used to maintain context and user progress.

#### Layout & Navigation Structure

The application will primarily use a single-page layout, structured into distinct, sequential sections. Each section will be introduced by a `st.header` and descriptive `st.markdown` to advance the story. A "Continue" button at the end of each section will trigger calculations and reveal the next set of interactive components and insights.

**Application Flow & Sections:**

1.  **Welcome & Company Onboarding:**
    *   **Introduction:** A welcoming narrative setting the stage for Sarah's task.
    *   **Company Selection:** `st.selectbox` for `Company` (`portfolio_companies_df['Company']`).
    *   **Automatic Sector Display:** `st.write` to show the `Sector` once a company is chosen.
    *   **Initial Baseline Data:** Display `Baseline Org-AI-R` and `EBITDA ($M)` for the selected company.
    *   **Trigger:** "Begin Initial AI Assessment" button.

2.  **Initial AI Screening & Recommendation:**
    *   **Narrative:** Sarah evaluates the preliminary AI potential.
    *   **Display:** `Systematic Opportunity ($H_{org,k}^R$)` for the selected sector.
    *   **Input:** `st.slider` for `Simulated External Signals Score` (0-100, default 45).
    *   **Display:** Calculated `Baseline PE Org-AI-R` and `Screening Score`.
    *   **Output:** Screening Recommendation (`st.info`).
    *   **Trigger:** "Conduct Detailed Assessment" button.

3.  **Dimension-Level Deep Dive & Gap Analysis:**
    *   **Narrative:** Sarah conducts a granular assessment across AI readiness dimensions.
    *   **Interactive Input:** For each of the 7 AI readiness dimensions (`Data Infrastructure`, `AI Governance`, etc.), provide:
        *   `st.slider` for `Current Rating (1-5)` (default random 1-3).
        *   `st.slider` for `Target Rating (1-5)` (default random 3-5, must be $\ge$ Current Rating).
    *   **Display Table:** A `pd.DataFrame` showing `Current Rating`, `Current Score (0-100)`, `Target Score (0-100)`, `Gap`, and `Priority` for each dimension.
    *   **Calculated Outputs:** `Recalculated Idiosyncratic Readiness (V_org,j^R)` and `Recalculated Current PE Org-AI-R`.
    *   **Visualizations:**
        *   **Radar Chart:** `AI Readiness Dimension Scores` (Current vs. Target).
        *   **Bar Chart:** `AI Readiness Gap Analysis` (sorted by gap size).
    *   **Trigger:** "Identify AI Use Cases" button.

4.  **High-Value AI Use Case Selection & Impact Estimation:**
    *   **Narrative:** Sarah identifies strategic AI initiatives aligned with identified gaps.
    *   **Display:** `High-Value Use Cases` relevant to the selected sector, using `st.dataframe`.
    *   **Input:** `st.multiselect` for `Select AI Use Cases` from the displayed library.
    *   **Dynamic Inputs:** For *each selected use case*, create an expander (`st.expander`) containing:
        *   `st.number_input` for `Estimated Investment Cost ($M)` (range 0.1-5.0, default based on `estimate_project_parameters`).
        *   `st.slider` for `Probability of Successful Implementation` (range 0.0-1.0, default based on `estimate_project_parameters`).
        *   `st.slider` for `Execution Quality Factor` (range 0.0-1.0, default based on `estimate_project_parameters`).
        *   Display estimated `EBITDA Impact (%)` and `Delta Org-AI-R` (read-only, based on `estimate_project_parameters`).
    *   **Display Table:** A `pd.DataFrame` summarizing `Selected AI Initiatives` with all chosen and estimated parameters.
    *   **Trigger:** "Build Multi-Year Plan" button.

5.  **Multi-Year AI Value Creation Plan Trajectory:**
    *   **Narrative:** Sarah reviews the phased roadmap and projected outcomes.
    *   **Input:** `st.slider` for `Total Plan Duration (Years)` (range 1-5, default 3).
    *   **Display Table:** `AI Value Creation Plan Trajectory` table showing `Year`, `Org-AI-R`, `EBITDA Impact ($M) - Year`, `Cumulative EBITDA Impact ($M)`, `Investment ($M) - Year`, `Cumulative Investment ($M)`.
    *   **Visualizations:**
        *   **Line Plot:** `Cumulative EBITDA Impact` over the plan duration.
        *   **Line Plot:** `PE Org-AI-R Progression` over the plan duration.
    *   **Trigger:** "Analyze Plan Efficiency & Portfolio" button.

6.  **AI Investment Efficiency & Portfolio Benchmarking:**
    *   **Narrative:** Sarah quantifies the plan's efficiency and compares the company's performance within the portfolio.
    *   **Display:** `Total Projected Delta Org-AI-R`, `Total Projected AI Investment ($M)`, `Total Projected EBITDA Impact ($M)`, and `Calculated AI Investment Efficiency (AIE)`.
    *   **Display Table:** Updated `Portfolio Companies Data` with benchmarking metrics (`Org-AI-R Percentile`, `Org-AI-R Z-Score`, `Efficiency (pts/$M)`).
    *   **Visualizations:**
        *   **Bar Chart:** `Current PE Org-AI-R Scores Across Portfolio Companies` (colored by sector).
        *   **Bar Chart:** `AI Investment Efficiency Across Portfolio Companies` (colored by sector).
    *   **Trigger:** "Assess Exit-Readiness" button.

7.  **Exit-Readiness Assessment & Valuation Premium:**
    *   **Narrative:** Sarah projects the impact of AI capabilities on the final exit multiple.
    *   **Input:**
        *   `st.slider` for `Visible AI Capabilities Score` (0-100, default 75).
        *   `st.slider` for `Documented AI Impact Score` (0-100, default 80).
        *   `st.slider` for `Sustainable AI Capabilities Score` (0-100, default 70).
        *   `st.number_input` for `Baseline Exit Multiple` (e.g., 6.5 for Manufacturing).
    *   **Display:** `Calculated Exit-AI-R Score`.
    *   **Output:** `Predicted Exit Multiple with AI Premium`.
    *   **Conclusion:** A concluding narrative reflecting on the end-to-end value creation journey.

#### Input Widgets and Controls

| Widget Type          | Streamlit Component        | Purpose in Story / Persona Action                                 | Parameters / Input Types / Ranges / Defaults                                                                                                                                                                                                                                                                      |
| :------------------- | :------------------------- | :---------------------------------------------------------------- | :-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **Company Selection**| `st.selectbox`             | Sarah selects a portfolio company to analyze.                     | `label="Select a Portfolio Company"`, `options=portfolio_companies_df['Company'].tolist()`, `default='Alpha Manufacturing'`                                                                                                                                                                                  |
| **External Signals** | `st.slider`                | Sarah inputs an estimated external signal score for initial screening. | `label="Simulated External Signals Score"`, `min_value=0`, `max_value=100`, `value=45`, `step=1`                                                                                                                                                                                                    |
| **Dimension Ratings**| `st.slider` (x14)          | Sarah assesses Current and Target AI readiness for each of 7 dimensions. | `label=f"{dimension} Current Rating (1-5)"`, `min_value=1`, `max_value=5`, `value=...` (initial random), `step=1`<br>`label=f"{dimension} Target Rating (1-5)"`, `min_value=1`, `max_value=5`, `value=...` (initial random, $\ge$ Current), `step=1`                                                       |
| **Use Case Selection**| `st.multiselect`           | Sarah chooses specific AI initiatives for the value creation plan. | `label="Select High-Value AI Use Cases"`, `options=high_value_use_cases[selected_sector]['Use Case'].tolist()`, `default=[]` (dynamic based on sector)                                                                                                                                                  |
| **Investment Cost**  | `st.number_input` (dynamic)| Sarah estimates the investment for each selected use case.         | `label="Estimated Investment Cost ($M)"`, `min_value=0.01`, `max_value=10.0`, `value=...` (initial estimate), `step=0.1`, `format="%.2f"`                                                                                                                                                               |
| **Prob. of Success** | `st.slider` (dynamic)      | Sarah estimates the likelihood of successful implementation for each use case. | `label="Probability of Successful Implementation"`, `min_value=0.0`, `max_value=1.0`, `value=...` (initial estimate), `step=0.01`, `format="%.2f"`                                                                                                                                                  |
| **Execution Quality**| `st.slider` (dynamic)      | Sarah assesses the expected quality of execution for each use case. | `label="Execution Quality Factor"`, `min_value=0.0`, `max_value=1.0`, `value=...` (initial estimate), `step=0.01`, `format="%.2f"`                                                                                                                                                                |
| **Plan Duration**    | `st.slider`                | Sarah sets the horizon for the AI value creation plan.           | `label="Total Plan Duration (Years)"`, `min_value=1`, `max_value=5`, `value=3`, `step=1`                                                                                                                                                                                                              |
| **Exit-Readiness Scores**| `st.slider` (x3)           | Sarah rates the visibility, documentation, and sustainability of AI capabilities for exit. | `label="Visible AI Capabilities Score"`, `min_value=0`, `max_value=100`, `value=75`, `step=1`<br>`label="Documented AI Impact Score"`, `min_value=0`, `max_value=100`, `value=80`, `step=1`<br>`label="Sustainable AI Capabilities Score"`, `min_value=0`, `max_value=100`, `value=70`, `step=1` |
| **Baseline Multiple**| `st.number_input`          | Sarah inputs the baseline exit multiple for the sector.           | `label="Baseline Exit Multiple for Sector"`, `min_value=1.0`, `max_value=20.0`, `value=6.5`, `step=0.1`, `format="%.1f"`                                                                                                                                                                              |
| **Navigation Buttons**| `st.button` / `st.next_button`| Sarah progresses through the story.                               | `label="Begin Initial AI Assessment"`, `label="Conduct Detailed Assessment"`, etc.                                                                                                                                                                                                                      |

#### Visualization Components

All visualizations will be interactive (preferably Plotly) and integrated directly into the narrative flow, providing key insights to Sarah at each stage.

1.  **Radar Chart:**
    *   **Purpose:** To visually compare current versus target AI readiness across the 7 dimensions. Sarah uses this to quickly grasp areas needing most attention.
    *   **Libraries:** `plotly.graph_objects`
    *   **Format:** Polar chart, `go.Scatterpolar`
    *   **Expected Outputs:** Displays `Current Score (0-100)` and `Target Score (0-100)` for each dimension. Dimensions on angular axis, scores on radial axis.
    *   **Title:** `AI Readiness Dimension Scores for {selected_company_name}`

2.  **Bar Chart (Gap Analysis):**
    *   **Purpose:** To highlight the largest gaps between current and target readiness, guiding Sarah's prioritization of initiatives.
    *   **Libraries:** `plotly.express`
    *   **Format:** Vertical bar chart.
    *   **Expected Outputs:** Bars representing `Gap (Target Score - Current Score)` for each dimension, sorted in descending order of gap. Dimensions on x-axis, Gap on y-axis.
    *   **Title:** `AI Readiness Gap Analysis for {selected_company_name}`

3.  **Line Plot (Cumulative EBITDA Impact):**
    *   **Purpose:** To visualize the projected financial benefits of the AI plan over time. Sarah sees the tangible return on investment.
    *   **Libraries:** `plotly.express`
    *   **Format:** Line plot.
    *   **Expected Outputs:** Line showing `Cumulative EBITDA Impact ($M)` for each `Year` of the plan. Years on x-axis, Cumulative EBITDA Impact on y-axis.
    *   **Title:** `Cumulative EBITDA Impact for {selected_company_name} AI Plan`

4.  **Line Plot (PE Org-AI-R Progression):**
    *   **Purpose:** To track the projected improvement in the company's overall AI maturity. Sarah sees the capability-building trajectory.
    *   **Libraries:** `plotly.express`
    *   **Format:** Line plot.
    *   **Expected Outputs:** Line showing `Org-AI-R` score for each `Year` of the plan. Years on x-axis, Org-AI-R Score on y-axis. Y-axis range from 0 to 100.
    *   **Title:** `PE Org-AI-R Progression for {selected_company_name} AI Plan`

5.  **Bar Chart (Current PE Org-AI-R Scores Across Portfolio):**
    *   **Purpose:** To allow Sarah to benchmark the selected company's Org-AI-R against peers in the portfolio.
    *   **Libraries:** `plotly.express`
    *   **Format:** Vertical bar chart.
    *   **Expected Outputs:** Bars representing `Current Org-AI-R` for all companies, colored by `Sector`. Companies on x-axis, Org-AI-R on y-axis.
    *   **Title:** `Current PE Org-AI-R Scores Across Portfolio Companies`

6.  **Bar Chart (AI Investment Efficiency Across Portfolio):**
    *   **Purpose:** To compare the investment efficiency of different AI plans across portfolio companies, aiding resource allocation decisions.
    *   **Libraries:** `plotly.express`
    *   **Format:** Vertical bar chart.
    *   **Expected Outputs:** Bars representing `Efficiency (pts/$M)` for all companies, colored by `Sector`. Companies on x-axis, AIE on y-axis.
    *   **Title:** `AI Investment Efficiency Across Portfolio Companies`

#### Interactive Elements & Feedback Mechanisms

-   **Dynamic Text & Dataframes:** `st.markdown`, `st.write`, `st.dataframe`, `st.info`, `st.success` will display narrative transitions, calculated scores, recommendations, and tabular data at each stage.
-   **Calculation Triggers:** Buttons will explicitly trigger calculations and state updates, ensuring the user is in control of the flow. For example, clicking "Begin Initial AI Assessment" will execute the screening calculations and display the results.
-   **Input Validation:** Where applicable, inputs will have minimum/maximum values (e.g., ratings 1-5, probabilities 0-1) to ensure valid data.
-   **Loading Spinners:** `st.spinner("Calculating...")` will be used for longer computational steps to provide feedback.
-   **Dynamic Content:** Use case lists and their associated input fields will dynamically update based on the selected company's sector and Sarah's use case selections.

## 3. Additional Requirements

#### Annotations & Tooltips

-   **Contextual Explanations:** `st.info` or `st.expander` components will be used to provide narrative-aligned explanations of metrics or decision criteria. For example:
    *   Next to the `Screening Score`: `st.info("The Screening Score combines systematic industry opportunity with external signals, giving us a quick view of a company's overall AI potential before deep diligence.")`
    *   For `Priority` in Dimension Assessment: `st.expander("Understanding Priority:")` with `st.markdown("High priority gaps indicate significant opportunity for Org-AI-R improvement and should be targeted by key initiatives.")`
    *   For `AIE`: `st.info("AI Investment Efficiency (AIE) measures the bang-for-buck: how much Org-AI-R improvement and EBITDA impact we get per dollar invested in AI initiatives.")`
-   **Formula Display:** Mathematical formulas will be displayed using `st.latex` when they are introduced as part of a new calculation or definition, directly supporting Sarah's understanding of the underlying model. For example: `st.latex(r"PE~Org-AI-R = (\alpha \cdot V_{org,j}^R) + ((1 - \alpha) \cdot H_{org,k}^R) + (\beta \cdot Synergy)")`

#### State Management Requirements

-   **`st.session_state` Centralization:** All user inputs (selected company, slider values for dimensions, selected use cases, custom project parameters, exit scores) and critical calculated results (Org-AI-R scores, AIE, dataframes) must be stored in `st.session_state`.
-   **Persistence:** `st.session_state` will ensure that as Sarah navigates through the application, inputs are preserved, and previously calculated results are available for subsequent steps or for displaying throughout the app's lifecycle without re-computation unless inputs change.
-   **Dynamic Updates:** Changes in input widgets (e.g., a dimension rating slider) should dynamically trigger recalculations of relevant scores and updates to associated visualizations within the current step or upon explicit button press to progress.

## 4. Notebook Content and Code Requirements

The Streamlit application will systematically integrate the Python code and markdown explanations from the provided Jupyter Notebook. Each logical step in the notebook will correspond to an interactive section or component in the Streamlit app.

**Global Constants & Initial Data:**
-   **Source:** Notebook's Section 2 "Defining Core Data, Parameters, and Constants".
-   **Integration:** These dictionaries and DataFrames (`model_coefficients`, `systematic_opportunity_scores`, `general_dimension_weights`, `sector_dimension_weight_adjustments`, `high_value_use_cases`, `portfolio_companies_df`) will be loaded once at the beginning of the Streamlit app, potentially stored in `st.session_state` or a separate `config.py` file imported by the app.
-   `warnings.filterwarnings('ignore')` will be applied.

---

### **Section 1: Welcome & Company Onboarding**

-   **Narrative:** Corresponds to the initial context-setting of the notebook.
    *   `st.header("AI Value Creation & Investment Efficiency Planner")`
    *   `st.markdown("Welcome, Private Equity Professional! This interactive planner helps you navigate the **AI Value Creation & Investment Efficiency Planner** workflow.")`
    *   `st.markdown("Your task is to systematically assess a portfolio company's AI readiness, build a strategic AI value creation plan, and quantify its financial impact.")`
-   **Input:**
    *   `st.selectbox` for `selected_company_name` from `portfolio_companies_df['Company']`.
-   **Display:**
    *   `st.write(f"Selected Sector: {selected_sector}")`
    *   `st.write(f"Initial Baseline Org-AI-R: {initial_org_ai_r}")`
    *   `st.write(f"Company's Current Annual EBITDA: ${initial_ebitda_M:.2f} Million")`
-   **Code Integration:**
    *   Initial selection logic to populate `selected_company_name`, `selected_sector`, `initial_org_ai_r`, `initial_ebitda_M`.

---

### **Section 2: Initial AI Screening & Recommendation**

-   **Narrative:** Corresponds to Notebook Section 3 "Company Selection and Initial Org-AI-R Assessment".
    *   `st.header("Step 1: Initial AI Screening Assessment")`
    *   `st.markdown("Sarah, let's start with a rapid, preliminary assessment of **{selected_company_name}** to quickly understand its AI potential and determine if a deeper dive is warranted.")`
    *   `st.markdown(f"The Systematic Opportunity ($H_{org,k}^R$) for the **{selected_sector}** sector is **{H_org_k_R}**.")`
-   **Input:**
    *   `st.slider` for `external_signals_score`.
-   **Display:**
    *   `st.markdown(f"**Simulated Baseline Idiosyncratic Readiness ($V_{org,j}^R$):** {baseline_V_org_R}")`
    *   `st.markdown(f"**Calculated Baseline PE Org-AI-R:** {calculated_baseline_org_ai_r}")`
    *   `st.markdown(f"**Calculated Screening Score:** {screening_score}")`
    *   `st.info(f"Screening Recommendation: {screening_recommendation}")`
-   **Code Integration:**
    *   `calculate_org_ai_r` function.
    *   `calculate_screening_score` function.
    *   Logic for `baseline_V_org_R`, `baseline_synergy_score`, `H_org_k_R`, and `screening_recommendation` based on the provided decision matrix.

---

### **Section 3: Dimension-Level Deep Dive & Gap Analysis**

-   **Narrative:** Corresponds to Notebook Section 4 "Deep Dive: Dimension-Level Assessment & Gap Analysis".
    *   `st.header("Step 2: Deep Dive  Dimension-Level Assessment & Gap Analysis")`
    *   `st.markdown("Now, Sarah, we conduct a detailed assessment across the 7 critical AI readiness dimensions. Adjust the current and target ratings to reflect your findings during due diligence.")`
-   **Input:**
    *   For each dimension, two `st.slider` widgets for `current_ratings` and `target_ratings`.
-   **Display:**
    *   `st.dataframe(dimension_assessment_df)`
    *   `st.markdown(f"**Recalculated Idiosyncratic Readiness ($V_{org,j}^R$):** {current_V_org_R_alpha}")`
    *   `st.markdown(f"**Recalculated Current PE Org-AI-R:** {recalculated_current_org_ai_r_alpha}")`
-   **Visualizations:**
    *   Plotly Radar Chart (`st.plotly_chart`): `AI Readiness Dimension Scores`.
    *   Plotly Bar Chart (`st.plotly_chart`): `AI Readiness Gap Analysis`.
-   **Code Integration:**
    *   `simulate_dimension_ratings` (adapted for initial defaults in Streamlit, then driven by user input).
    *   `calculate_dimension_score` function.
    *   `calculate_V_org_R` function.
    *   `calculate_synergy` function.
    *   Logic for `gap_scores_alpha` and `gap_priority`.
    *   Recalculation of `current_V_org_R_alpha`, `current_synergy_alpha`, `recalculated_current_org_ai_r_alpha`.

---

### **Section 4: High-Value AI Use Case Selection & Impact Estimation**

-   **Narrative:** Corresponds to Notebook Section 5 "Identify High-Value AI Use Cases & Estimate Impact".
    *   `st.header("Step 3: Identify High-Value AI Use Cases & Estimate Impact")`
    *   `st.markdown(f"Based on the gaps identified, Sarah, let's explore high-value AI use cases specific to the **{selected_sector}** sector. Select initiatives that align with **{selected_company_name}'s** strategic goals and adjust their estimated parameters.")`
-   **Display:**
    *   `st.dataframe(sector_use_cases_df)`
-   **Input:**
    *   `st.multiselect` for `selected_use_case_names`.
    *   Dynamic `st.expander` for each selected use case with `st.number_input` for `Investment ($M)` and `st.slider` for `Probability of Success`, `Execution Quality`.
-   **Display:**
    *   `st.dataframe(planned_initiatives_df)`
-   **Code Integration:**
    *   `estimate_project_parameters` function (adapted to use user inputs for Investment, Prob. of Success, Execution Quality, and calculate EBITDA Impact & Delta Org-AI-R).
    *   Logic to dynamically generate input widgets and summarize `planned_initiatives_df`.

---

### **Section 5: Multi-Year AI Value Creation Plan Trajectory**

-   **Narrative:** Corresponds to Notebook Section 6 "Build the Multi-Year AI Value Creation Plan".
    *   `st.header("Step 4: Build the Multi-Year AI Value Creation Plan")`
    *   `st.markdown("Sarah, with the selected initiatives, let's construct a comprehensive multi-year plan, projecting the company's Org-AI-R progression and cumulative EBITDA impact.")`
-   **Input:**
    *   `st.slider` for `total_years_plan`.
-   **Display:**
    *   `st.dataframe(ai_plan_trajectory_df)`
-   **Visualizations:**
    *   Plotly Line Plot (`st.plotly_chart`): `Cumulative EBITDA Impact for {selected_company_name} AI Plan`.
    *   Plotly Line Plot (`st.plotly_chart`): `PE Org-AI-R Progression for {selected_company_name} AI Plan`.
-   **Code Integration:**
    *   `create_multi_year_plan` function.

---

### **Section 6: AI Investment Efficiency & Portfolio Benchmarking**

-   **Narrative:** Corresponds to Notebook Section 7 "Calculate AI Investment Efficiency" and Section 8 "Portfolio-Level Review & Benchmarking".
    *   `st.header("Step 5: AI Investment Efficiency & Portfolio Benchmarking")`
    *   `st.markdown("Sarah, we now quantify the efficiency of the proposed plan and benchmark **{selected_company_name}'s** AI progress against the rest of the fund's portfolio, informing our capital allocation decisions.")`
-   **Display:**
    *   `st.markdown(f"**Total Projected Delta Org-AI-R:** {total_delta_org_ai_r_plan:.2f} points")`
    *   `st.markdown(f"**Total Projected AI Investment:** ${total_investment_plan_M:.2f} Million")`
    *   `st.markdown(f"**Total Projected EBITDA Impact:** ${total_ebitda_impact_plan_M:.2f} Million")`
    *   `st.markdown(f"**AI Investment Efficiency (AIE):** {aie_for_plan:.2f} pts*$M/$M")`
    *   `st.dataframe(portfolio_companies_df[['Company', 'Sector', 'Current Org-AI-R', 'Org-AI-R Percentile', 'Org-AI-R Z-Score', 'Efficiency (pts/$M)', 'EBITDA Impact (%)']])`
-   **Visualizations:**
    *   Plotly Bar Chart (`st.plotly_chart`): `Current PE Org-AI-R Scores Across Portfolio Companies`.
    *   Plotly Bar Chart (`st.plotly_chart`): `AI Investment Efficiency Across Portfolio Companies`.
-   **Code Integration:**
    *   `calculate_ai_investment_efficiency` function.
    *   `calculate_within_portfolio_percentile` function.
    *   `calculate_cross_portfolio_z_score` function.
    *   Logic to update `portfolio_companies_df` with the plan outcomes for the selected company.

---

### **Section 7: Exit-Readiness Assessment & Valuation Premium**

-   **Narrative:** Corresponds to Notebook Section 9 "Exit-Readiness Assessment".
    *   `st.header("Step 6: Exit-Readiness Assessment & Valuation Premium")`
    *   `st.markdown("Finally, Sarah, let's project how **{selected_company_name}'s** enhanced AI capabilities will be perceived by potential buyers, and what premium they might command at exit.")`
-   **Input:**
    *   `st.slider` for `visible_score`, `documented_score`, `sustainable_score`.
    *   `st.number_input` for `base_multiple_manufacturing`.
-   **Display:**
    *   `st.markdown(f"**Calculated Exit-AI-R Score:** {exit_ai_r_score:.2f}")`
    *   `st.markdown(f"**Baseline Exit Multiple for {selected_sector}:** {base_multiple_manufacturing}x EBITDA")`
    *   `st.markdown(f"**Predicted Exit Multiple with AI Premium:** {predicted_exit_multiple:.2f}x EBITDA")`
-   **Code Integration:**
    *   `assess_exit_readiness` function.
    *   `predict_exit_multiple` function.

---
